# Rightmove Property Analyzer - Web Interface

A modern React-based web interface for analyzing and visualizing property data scraped from Rightmove using the enhanced scraper.

## Features

### ðŸ“Š **Data Visualization**
- **Interactive Charts**: Price distribution, property size analysis, bedroom distribution
- **Scatter Plots**: Price vs size correlation analysis
- **Pie Charts**: Property type and location breakdowns
- **Bar Charts**: Price per square meter analysis by bedrooms

### ðŸ“‹ **Data Management**
- **CSV Upload**: Drag-and-drop CSV file upload from scraper results
- **Sortable Table**: Sort by any column (price, size, bedrooms, etc.)
- **Advanced Filtering**: Filter by price range, bedrooms, property type, postcode
- **Pagination**: Handle large datasets efficiently

### ðŸ“ˆ **Analytics Dashboard**
- **Key Statistics**: Average/median prices, size metrics, success rates
- **Data Quality Analysis**: Track completeness of scraped data
- **Letting Details Analysis**: Breakdown of deposit amounts, tenancy lengths
- **Geographic Analysis**: Postcode distribution and analysis

## Technology Stack

- **Frontend**: React 18 + TypeScript
- **Charts**: Recharts (React charting library)
- **Styling**: Custom CSS with modern design system
- **Icons**: Lucide React
- **Build Tool**: Vite
- **Backend**: Python HTTP server for CSV file serving

## Installation

### Prerequisites
- Node.js 16+ and npm
- Python 3.7+

### Setup

1. **Install dependencies**:
   ```bash
   cd web
   npm install
   ```

2. **Start the development server**:
   ```bash
   npm run dev
   ```

3. **Start the CSV file server** (in a separate terminal):
   ```bash
   python server.py
   ```

4. **Open your browser**:
   - React app: http://localhost:3000
   - CSV server: http://localhost:3001

## Usage

### 1. Generate Data
First, run the enhanced Rightmove scraper to generate CSV data:

```bash
# From the rightmove_webscraper.py directory
python enhanced_scraper.py
```

This will create CSV files in the `results/` folder.

### 2. Upload Data
1. Open the web interface at http://localhost:3000
2. Drag and drop your CSV file or click to browse
3. The interface will automatically parse and load the data

### 3. Analyze Data
- **Data Table**: View and sort all properties
- **Charts & Graphs**: Visualize trends and distributions
- **Statistics**: View detailed analytics and breakdowns

### 4. Filter Data
Use the filter panel to:
- Filter by price range
- Filter by number of bedrooms
- Filter by property type
- Filter by postcode
- Filter by data quality (has size data, letting details, etc.)

## Data Format

The web interface expects CSV files with the following columns (generated by the enhanced scraper):

### Required Columns
- `address` - Property address
- `price` - Monthly rent price
- `bedrooms` - Number of bedrooms
- `bathrooms` - Number of bathrooms
- `property_type` - Type of property (flat, house, etc.)

### Enhanced Columns
- `property_size_sqm` - Property size in square meters
- `property_size_sqft` - Property size in square feet
- `letting_details` - JSON object with letting information
- `scraping_success` - Whether individual page scraping succeeded
- `branch` - Estate agent name
- `postcode` - Property postcode

## Chart Types

### 1. **Price Distribution**
- Bar chart showing price ranges
- Helps identify market segments

### 2. **Property Size Distribution**
- Bar chart showing size ranges
- Useful for understanding property sizes

### 3. **Bedroom Distribution**
- Pie chart showing bedroom count distribution
- Market composition analysis

### 4. **Property Type Distribution**
- Pie chart showing property types
- Market type analysis

### 5. **Price vs Size Scatter Plot**
- Correlation between price and size
- Identifies value outliers

### 6. **Price per sqm by Bedrooms**
- Bar chart showing price efficiency by bedroom count
- Value analysis

### 7. **Top Postcodes**
- Horizontal bar chart of most common postcodes
- Geographic analysis

### 8. **Price per sqm Distribution**
- Bar chart showing price per square meter ranges
- Market efficiency analysis

## Statistics Provided

### **Key Metrics**
- Total properties
- Average/median/min/max prices
- Average/median/min/max sizes
- Average/median price per square meter
- Scraping success rate

### **Distributions**
- Bedroom count distribution
- Property type distribution
- Postcode distribution
- Letting details frequency analysis

### **Data Quality**
- Properties with price data
- Properties with size data
- Properties with letting details
- Properties with postcode data

## Customization

### **Adding New Chart Types**
1. Create new chart component in `src/components/`
2. Add to `PropertyCharts.tsx`
3. Update data utilities if needed

### **Modifying Filters**
1. Update `FilterOptions` type in `src/types.ts`
2. Modify `FilterPanel.tsx` component
3. Update filtering logic in `dataUtils.ts`

### **Styling Changes**
1. Modify CSS variables in `src/styles.css`
2. Update component-specific styles
3. Add new utility classes as needed

## API Endpoints

The Python server provides these endpoints:

- `GET /api/csv-files` - List available CSV files
- `GET /api/csv/<path>` - Download specific CSV file
- `GET /` - Serve React application

## Development

### **Project Structure**
```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ utils/              # Utility functions
â”‚   â”œâ”€â”€ types.ts            # TypeScript types
â”‚   â”œâ”€â”€ App.tsx             # Main app component
â”‚   â”œâ”€â”€ main.tsx            # Entry point
â”‚   â””â”€â”€ styles.css          # Global styles
â”œâ”€â”€ server.py               # Python CSV server
â”œâ”€â”€ package.json            # Node.js dependencies
â”œâ”€â”€ vite.config.ts          # Vite configuration
â””â”€â”€ README.md               # This file
```

### **Available Scripts**
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint

## Troubleshooting

### **Common Issues**

1. **CSV Upload Fails**
   - Check file format (must be CSV)
   - Ensure file has required columns
   - Check browser console for errors

2. **Charts Not Displaying**
   - Verify data has numeric values for chart axes
   - Check for null/undefined values
   - Ensure sufficient data points

3. **Server Connection Issues**
   - Ensure Python server is running on port 3001
   - Check CORS settings
   - Verify file paths are correct

### **Performance Tips**

1. **Large Datasets**
   - Use pagination in table view
   - Apply filters to reduce data
   - Consider data sampling for charts

2. **Memory Usage**
   - Limit CSV file size (< 50MB recommended)
   - Use browser dev tools to monitor memory
   - Clear data when switching files

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## License

This project is part of the Rightmove Webscraper suite. See the main project for license information.


